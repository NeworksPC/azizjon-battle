<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–∑–∏–∑–î–∂–æ–Ω - –ë–∏—Ç–≤–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .character {
            text-align: center;
            margin: 20px 0;
            font-size: 48px;
        }
        
        .stats {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        
        .health-bar {
            height: 20px;
            background: #333;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ee5a24);
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        
        .player-health .health-fill {
            background: linear-gradient(90deg, #00b894, #00a085);
        }
        
        .buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 20px 0;
        }
        
        .btn {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, background 0.3s;
        }
        
        .btn:active {
            transform: scale(0.95);
        }
        
        .attack-btn {
            background: #ff6b6b;
            color: white;
        }
        
        .heal-btn {
            background: #00b894;
            color: white;
        }
        
        .run-btn {
            background: #fdcb6e;
            color: #2d3436;
        }
        
        .status-btn {
            background: #74b9ff;
            color: white;
        }
        
        .dialogue {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-style: italic;
            text-align: center;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .location-selector {
            margin: 15px 0;
        }
        
        .location-btn {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
        }
        
        .game-mode {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }
        
        .mode-btn {
            padding: 12px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-weight: bold;
        }
        
        .pvp-section {
            display: none;
        }
        
        .battle-log {
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            max-height: 150px;
            overflow-y: auto;
            font-size: 14px;
        }
        
        .log-entry {
            margin: 5px 0;
            padding: 5px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÆ –ë–ò–¢–í–ê –° –ê–ó–ò–ó–î–ñ–û–ù–û–ú</h1>
            <div class="character">üí™üî•ü•ä</div>
        </div>
        
        <div class="game-mode">
            <button class="mode-btn" onclick="showMode('single')">‚öîÔ∏è –û–¥–∏–Ω–æ—á–Ω–∞—è</button>
            <button class="mode-btn" onclick="showMode('pvp')">üéÆ PVP</button>
        </div>
        
        <div id="singlePlayer">
            <div class="stats">
                <h3>‚ù§Ô∏è –í–∞—à–µ –∑–¥–æ—Ä–æ–≤—å–µ: <span id="playerHealth">100</span>%</h3>
                <div class="health-bar player-health">
                    <div class="health-fill" id="playerHealthBar" style="width: 100%"></div>
                </div>
                
                <h3>üíÄ –ê–∑–∏–∑–î–∂–æ–Ω: <span id="bossHealth">150</span>%</h3>
                <div class="health-bar">
                    <div class="health-fill" id="bossHealthBar" style="width: 100%"></div>
                </div>
            </div>
            
            <div class="location-selector">
                <h3>üìç –í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é:</h3>
                <button class="location-btn" onclick="selectLocation('smoking')">üö¨ –ö—É—Ä–∏–ª–∫–∞</button>
                <button class="location-btn" onclick="selectLocation('toilet')">üöΩ –¢–æ–ª—á–æ–∫</button>
                <button class="location-btn" onclick="selectLocation('mountains')">üèîÔ∏è –ì–æ—Ä—ã –ö–∞–≤–∫–∞–∑–∞</button>
                <button class="location-btn" onclick="selectLocation('polyk')">üè´ –ü–æ–ª–∏–∫</button>
            </div>
            
            <div class="dialogue" id="dialogue">
                üí™ –í—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é –∏ –Ω–∞—á–Ω–∏—Ç–µ –±–æ–π!
            </div>
            
            <div class="buttons">
                <button class="btn attack-btn" onclick="playerAttack()">ü•ä –ê—Ç–∞–∫–∞</button>
                <button class="btn heal-btn" onclick="playerHeal()">üíä –õ–µ—á–µ–Ω–∏–µ</button>
                <button class="btn status-btn" onclick="showStatus()">üìä –°—Ç–∞—Ç—É—Å</button>
                <button class="btn run-btn" onclick="runAway()">üèÉ –ë–µ–∂–∞—Ç—å</button>
            </div>
            
            <div class="battle-log" id="battleLog"></div>
        </div>
        
        <div id="pvpSection" class="pvp-section">
            <div class="stats">
                <h3>‚ù§Ô∏è –í–∞—à–µ –∑–¥–æ—Ä–æ–≤—å–µ: <span id="pvpPlayerHealth">100</span>%</h3>
                <div class="health-bar player-health">
                    <div class="health-fill" id="pvpPlayerHealthBar" style="width: 100%"></div>
                </div>
                
                <h3>üéØ –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫: <span id="opponentHealth">100</span>%</h3>
                <div class="health-bar">
                    <div class="health-fill" id="opponentHealthBar" style="width: 100%"></div>
                </div>
            </div>
            
            <div class="dialogue" id="pvpDialogue">
                üéÆ –û–∂–∏–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ PVP –±–æ—è...
            </div>
            
            <div class="buttons">
                <button class="btn attack-btn" onclick="pvpAttack()">ü•ä –ê—Ç–∞–∫–∞</button>
                <button class="btn heal-btn" onclick="pvpHeal()">üíä –õ–µ—á–µ–Ω–∏–µ</button>
                <button class="btn status-btn" onclick="pvpStatus()">üìä –°—Ç–∞—Ç—É—Å</button>
                <button class="btn run-btn" onclick="surrender()">üèÉ –°–¥–∞—Ç—å—Å—è</button>
            </div>
            
            <div class="battle-log" id="pvpLog"></div>
        </div>
    </div>

    <script>
        // Game state
        let gameState = {
            playerHealth: 100,
            bossHealth: 150,
            currentLocation: null,
            gameActive: false,
            isPvP: false
        };
        
        // PvP state
        let pvpState = {
            playerHealth: 100,
            opponentHealth: 100,
            gameActive: false,
            myTurn: false
        };
        
        // Aziz dialogues
        const azizDialogues = [
            "üí® –ê—Ö —Ç—ã –±–ª—è–¥—å! –î—ã–º —Å–∏–≥–∞—Ä–µ—Ç –º–Ω–µ –ø—Ä–∏–¥–∞–µ—Ç —Å–∏–ª, —Å—É–∫–∞!",
            "üöΩ –í —Ç–æ–ª—á–∫–µ —è –Ω–µ–ø–æ–±–µ–¥–∏–º, –µ–±–∞—Ç—å! –ó–¥–µ—Å—å –º–æ—è —Å–∏–ª–∞, –ø–∏–¥–æ—Ä!",
            "üèîÔ∏è –ì–æ—Ä—ã –ö–∞–≤–∫–∞–∑–∞ –¥–∞—é—Ç –º–Ω–µ –º–æ—â—å –ø—Ä–µ–¥–∫–æ–≤, –Ω–∞—Ö—É–π!",
            "üè´ –í –ø–æ–ª–∏–∫–µ —è —É—á–∏–ª—Å—è –±–∏—Ç—å—Å—è –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π –º—É–∂–∏–∫, –±–ª—è!",
            "üí™ –¢—ã —Å–ª–∞–±–∞–∫, –µ–±–ª–∞–Ω! –ú–æ–∏ –º—É—Å–∫—É–ª—ã —Ä–µ–ª—å–µ—Ñ–Ω–µ–µ —Ç–≤–æ–∏—Ö, –ø–∏–¥—Ä–∏–ª–∞!",
            "ü•ä –ü–æ–ø—Ä–æ–±—É–π —É–¥–∞—Ä–∏—Ç—å —Å–∏–ª—å–Ω–µ–µ, —Ö—É–µ—Å–æ—Å!",
            "üòÇ –¢—ã –¥–µ—Ä–µ—à—å—Å—è –∫–∞–∫ –º–æ—è –±–∞–±–∫–∞, —à–ª—é—Ö–∞!",
            "üéØ –Ø —Ç–µ–±—è –ø–æ —á–∞—Å—Ç—è–º —Ä–∞–∑–±–µ—Ä—É, –º—É–¥–∞–∫!",
            "üí• –û—â—É—Ç–∏ –º–æ—â—å –ê–∑–∏–∑–î–∂–æ–Ω–∞, —Å—É—á–∞—Ä–∞!",
            "ü§£ –¢—ã –¥—É–º–∞–ª, —á—Ç–æ —Å–º–æ–∂–µ—à—å –ø–æ–±–µ–¥–∏—Ç—å –º–µ–Ω—è? –ò–¥–∏ –Ω–∞—Ö—É–π, –¥–æ–ª–±–æ—ë–±!"
        ];
        
        // Location names
        const locationNames = {
            smoking: "üö¨ –ö—É—Ä–∏–ª–∫–∞",
            toilet: "üöΩ –¢–æ–ª—á–æ–∫",
            mountains: "üèîÔ∏è –ì–æ—Ä—ã –ö–∞–≤–∫–∞–∑–∞",
            polyk: "üè´ –ü–æ–ª–∏–∫"
        };
        
        // Initialize WebApp
        function initWebApp() {
            // Check if we're in Telegram WebApp
            if (window.Telegram && Telegram.WebApp) {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
            }
            
            // Check URL parameters for mode
            const urlParams = new URLSearchParams(window.location.search);
            const mode = urlParams.get('mode');
            const opponent = urlParams.get('opponent');
            
            if (mode === 'pvp' && opponent) {
                showMode('pvp');
                addToPvpLog(`üéÆ –ù–∞—á–∞—Ç PVP –±–æ–π –ø—Ä–æ—Ç–∏–≤ –∏–≥—Ä–æ–∫–∞ ID: ${opponent}`);
            } else if (mode === 'stats') {
                showStats();
            } else if (mode === 'admin') {
                showAdminPanel();
            }
        }
        
        // Show game mode
        function showMode(mode) {
            if (mode === 'single') {
                document.getElementById('singlePlayer').style.display = 'block';
                document.getElementById('pvpSection').style.display = 'none';
                gameState.isPvP = false;
            } else if (mode === 'pvp') {
                document.getElementById('singlePlayer').style.display = 'none';
                document.getElementById('pvpSection').style.display = 'block';
                gameState.isPvP = true;
                startPvpGame();
            }
        }
        
        // Select location
        function selectLocation(location) {
            gameState.currentLocation = location;
            gameState.gameActive = true;
            
            document.getElementById('dialogue').textContent = 
                `üìç –õ–æ–∫–∞—Ü–∏—è –≤—ã–±—Ä–∞–Ω–∞: ${locationNames[location]}! üí™`;
            
            addToLog(`üìç –í—ã –≤—ã–±—Ä–∞–ª–∏ –ª–æ–∫–∞—Ü–∏—é: ${locationNames[location]}`);
            addToLog('üéÆ –ë–æ–π –Ω–∞—á–∞–ª—Å—è! –ê—Ç–∞–∫—É–π—Ç–µ –ê–∑–∏–∑–î–∂–æ–Ω–∞!');
        }
        
        // Player attack
        function playerAttack() {
            if (!gameState.gameActive || !gameState.currentLocation) {
                addToLog('‚ùå –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é!');
                return;
            }
            
            const damage = Math.floor(Math.random() * 20) + 10;
            gameState.bossHealth -= damage;
            
            if (gameState.bossHealth < 0) gameState.bossHealth = 0;
            
            updateHealthBars();
            
            // Aziz counter-attack
            const azizDamage = Math.floor(Math.random() * 15) + 5;
            gameState.playerHealth -= azizDamage;
            
            if (gameState.playerHealth < 0) gameState.playerHealth = 0;
            
            // Random Aziz dialogue
            const randomDialogue = azizDialogues[Math.floor(Math.random() * azizDialogues.length)];
            document.getElementById('dialogue').textContent = randomDialogue;
            
            addToLog(`ü•ä –í—ã –Ω–∞–Ω–µ—Å–ª–∏ ${damage} —É—Ä–æ–Ω–∞ –ê–∑–∏–∑–î–∂–æ–Ω—É!`);
            addToLog(`üí• –ê–∑–∏–∑–î–∂–æ–Ω –Ω–∞–Ω–µ—Å –≤–∞–º ${azizDamage} —É—Ä–æ–Ω–∞!`);
            
            checkGameOver();
        }
        
        // Player heal
        function playerHeal() {
            if (!gameState.gameActive) {
                addToLog('‚ùå –°–Ω–∞—á–∞–ª–∞ –Ω–∞—á–Ω–∏—Ç–µ –±–æ–π!');
                return;
            }
            
            const heal = Math.floor(Math.random() * 20) + 10;
            gameState.playerHealth += heal;
            
            if (gameState.playerHealth > 100) gameState.playerHealth = 100;
            
            // Aziz still attacks
            const azizDamage = Math.floor(Math.random() * 10) + 5;
            gameState.playerHealth -= azizDamage;
            
            if (gameState.playerHealth < 0) gameState.playerHealth = 0;
            
            updateHealthBars();
            
            const randomDialogue = azizDialogues[Math.floor(Math.random() * azizDialogues.length)];
            document.getElementById('dialogue').textContent = randomDialogue;
            
            addToLog(`üíä –í—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ ${heal} –∑–¥–æ—Ä–æ–≤—å—è!`);
            addToLog(`üí• –ê–∑–∏–∑–î–∂–æ–Ω –Ω–∞–Ω–µ—Å –≤–∞–º ${azizDamage} —É—Ä–æ–Ω–∞!`);
            
            checkGameOver();
        }
        
        // Show status
        function showStatus() {
            addToLog(`üìä –°—Ç–∞—Ç—É—Å: –ó–¥–æ—Ä–æ–≤—å–µ ${gameState.playerHealth}% vs –ê–∑–∏–∑–î–∂–æ–Ω ${gameState.bossHealth}%`);
        }
        
        // Run away
        function runAway() {
            gameState.gameActive = false;
            addToLog('üèÉ –í—ã —Å–±–µ–∂–∞–ª–∏ —Å –ø–æ–ª—è –±–æ—è!');
            document.getElementById('dialogue').textContent = 'üò§ –¢—ã –∏—Å–ø—É–≥–∞–ª—Å—è, —Å–ª–∞–±–∞–∫!';
        }
        
        // Update health bars
        function updateHealthBars() {
            document.getElementById('playerHealth').textContent = gameState.playerHealth;
            document.getElementById('bossHealth').textContent = gameState.bossHealth;
            document.getElementById('playerHealthBar').style.width = `${gameState.playerHealth}%`;
            document.getElementById('bossHealthBar').style.width = `${(gameState.bossHealth / 150) * 100}%`;
        }
        
        // Check game over
        function checkGameOver() {
            if (gameState.playerHealth <= 0) {
                addToLog('üíÄ –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏! –ê–∑–∏–∑–î–∂–æ–Ω –ø–æ–±–µ–¥–∏–ª!');
                gameState.gameActive = false;
                sendResultToBot('lose');
            } else if (gameState.bossHealth <= 0) {
                addToLog('üéâ –í—ã –ø–æ–±–µ–¥–∏–ª–∏ –ê–∑–∏–∑–î–∂–æ–Ω–∞! –£—Ä–æ–≤–µ–Ω—å –ø–æ–≤—ã—à–µ–Ω!');
                gameState.gameActive = false;
                sendResultToBot('win');
            }
        }
        
        // Add to battle log
        function addToLog(message) {
            const log = document.getElementById('battleLog');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.textContent = message;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }
        
        // PvP functions
        function startPvpGame() {
            pvpState.gameActive = true;
            pvpState.myTurn = true; // For demo purposes
            
            document.getElementById('pvpDialogue').textContent = 
                'üéÆ –í–∞—à —Ö–æ–¥! –ê—Ç–∞–∫—É–π—Ç–µ –∏–ª–∏ –ª–µ—á–∏—Ç–µ—Å—å!';
            
            updatePvpHealthBars();
        }
        
        function pvpAttack() {
            if (!pvpState.gameActive) return;
            
            if (!pvpState.myTurn) {
                addToPvpLog('‚ùå –°–µ–π—á–∞—Å –Ω–µ –≤–∞—à —Ö–æ–¥!');
                return;
            }
            
            const damage = Math.floor(Math.random() * 25) + 10;
            pvpState.opponentHealth -= damage;
            
            if (pvpState.opponentHealth < 0) pvpState.opponentHealth = 0;
            
            updatePvpHealthBars();
            addToPvpLog(`ü•ä –í—ã –Ω–∞–Ω–µ—Å–ª–∏ ${damage} —É—Ä–æ–Ω–∞ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫—É!`);
            
            pvpState.myTurn = false;
            document.getElementById('pvpDialogue').textContent = '‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ —Ö–æ–¥–∞ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞...';
            
            // Simulate opponent move after delay
            setTimeout(opponentMove, 2000);
            
            checkPvpGameOver();
        }
        
        function pvpHeal() {
            if (!pvpState.gameActive) return;
            
            if (!pvpState.myTurn) {
                addToPvpLog('‚ùå –°–µ–π—á–∞—Å –Ω–µ –≤–∞—à —Ö–æ–¥!');
                return;
            }
            
            const heal = Math.floor(Math.random() * 20) + 15;
            pvpState.playerHealth += heal;
            
            if (pvpState.playerHealth > 100) pvpState.playerHealth = 100;
            
            updatePvpHealthBars();
            addToPvpLog(`üíä –í—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ ${heal} –∑–¥–æ—Ä–æ–≤—å—è!`);
            
            pvpState.myTurn = false;
            document.getElementById('pvpDialogue').textContent = '‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ —Ö–æ–¥–∞ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞...';
            
            // Simulate opponent move after delay
            setTimeout(opponentMove, 2000);
            
            checkPvpGameOver();
        }
        
        function opponentMove() {
            if (Math.random() > 0.5) {
                // Opponent attacks
                const damage = Math.floor(Math.random() * 20) + 8;
                pvpState.playerHealth -= damage;
                
                if (pvpState.playerHealth < 0) pvpState.playerHealth = 0;
                
                addToPvpLog(`üí• –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ –Ω–∞–Ω–µ—Å –≤–∞–º ${damage} —É—Ä–æ–Ω–∞!`);
            } else {
                // Opponent heals
                const heal = Math.floor(Math.random() * 15) + 10;
                pvpState.opponentHealth += heal;
                
                if (pvpState.opponentHealth > 100) pvpState.opponentHealth = 100;
                
                addToPvpLog(`üíâ –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª ${heal} –∑–¥–æ—Ä–æ–≤—å—è!`);
            }
            
            updatePvpHealthBars();
            pvpState.myTurn = true;
            document.getElementById('pvpDialogue').textContent = 'üéÆ –í–∞—à —Ö–æ–¥! –ê—Ç–∞–∫—É–π—Ç–µ –∏–ª–∏ –ª–µ—á–∏—Ç–µ—Å—å!';
            
            checkPvpGameOver();
        }
        
        function pvpStatus() {
            addToPvpLog(`üìä –°—Ç–∞—Ç—É—Å: –í—ã ${pvpState.playerHealth}% vs –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ ${pvpState.opponentHealth}%`);
        }
        
        function surrender() {
            pvpState.gameActive = false;
            addToPvpLog('üèÉ –í—ã —Å–¥–∞–ª–∏—Å—å!');
            document.getElementById('pvpDialogue').textContent = 'üòî –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏ –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∂–µ–ª–∞–Ω–∏—é';
        }
        
        function updatePvpHealthBars() {
            document.getElementById('pvpPlayerHealth').textContent = pvpState.playerHealth;
            document.getElementById('opponentHealth').textContent = pvpState.opponentHealth;
            document.getElementById('pvpPlayerHealthBar').style.width = `${pvpState.playerHealth}%`;
            document.getElementById('opponentHealthBar').style.width = `${pvpState.opponentHealth}%`;
        }
        
        function addToPvpLog(message) {
            const log = document.getElementById('pvpLog');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.textContent = message;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }
        
        function checkPvpGameOver() {
            if (pvpState.playerHealth <= 0) {
                addToPvpLog('üíÄ –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏ PVP –±–æ–π!');
                pvpState.gameActive = false;
                document.getElementById('pvpDialogue').textContent = 'üò¢ –ü–æ—Ä–∞–∂–µ–Ω–∏–µ!';
            } else if (pvpState.opponentHealth <= 0) {
                addToPvpLog('üéâ –í—ã –ø–æ–±–µ–¥–∏–ª–∏ –≤ PVP –±–æ—é!');
                pvpState.gameActive = false;
                document.getElementById('pvpDialogue').textContent = 'üèÜ –ü–æ–±–µ–¥–∞!';
            }
        }
        
        // Send result to bot
        function sendResultToBot(result) {
            if (window.Telegram && Telegram.WebApp) {
                const data = {
                    type: 'battle_result',
                    result: result,
                    health: gameState.playerHealth,
                    boss_health: gameState.bossHealth,
                    location: gameState.currentLocation
                };
                
                Telegram.WebApp.sendData(JSON.stringify(data));
            }
        }
        
        // Show stats (placeholder)
        function showStats() {
            addToLog('üìä –†–µ–∂–∏–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ - –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è...');
        }
        
        // Show admin panel (placeholder)
        function showAdminPanel() {
            addToLog('üëë –†–µ–∂–∏–º –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ - –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º');
        }
        
        // Initialize when page loads
        window.onload = initWebApp;
    </script>
</body>
</html>